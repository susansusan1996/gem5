找到 NVMain::IssueRequest() 函數，在處理寫入請求時加入：

```cpp
bool NVMain::IssueRequest( NVMainRequest *req )
{
    // ... 原有程式碼 ...
    
    // 如果是寫入請求，調用 StartGap
    if (req->type == WRITE && startGap != NULL) {
        uint64_t logicalAddr = req->address.GetPhysicalAddress();
        uint64_t physicalAddr = startGap->LogicalToPhysical(logicalAddr);
        req->address.SetPhysicalAddress(physicalAddr);
        startGap->OnWrite(logicalAddr);
        
        // 每 1000 次寫入輸出一次統計
        static int writeCount = 0;
        if (++writeCount % 1000 == 0) {
            std::cout << "[NVMain] Processed " << writeCount << " writes" << std::endl;
        }
    }
    
    // ... 繼續原有程式碼 ...
}
```
